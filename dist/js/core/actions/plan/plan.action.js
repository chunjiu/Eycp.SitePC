define(["underscore","jquery","backbone","../../services/request.service","../../services/event.service"],function(a,e,n,l,t){var r={};return r._planIndexCallback,r._planAwardHTMLCallback,r._planAwardResultCallback,r._planAwardResultHTMLCallback,r._requestPlanCallback,r.initialize=function(){var a=this;t.on("asyncSuccess_planIndex",function(e){a._planIndexCallback(e)}),t.on("asyncSuccess_planAwardHTML",function(e){a._planAwardHTMLCallback(e)}),t.on("asyncSuccess_planAwardResult",function(e){a._planAwardResultCallback(e)}),t.on("asyncSuccess_planAwardResultHTML",function(e){a._planAwardResultHTMLCallback(e)}),t.on("asyncSuccess_requestPlan",function(e){a._requestPlanCallback(e)})},r.requestPlan=function(a){if("function"!=typeof a)console.error("请求数据的参数不正确，_callBack不是函数类型");else{var e={t:Math.random()};r._requestPlanCallback=a,l.requestGet("/plan/getplan",e,"asyncSuccess_requestPlan")}},r.getPageIndex=function(a){if("function"!=typeof a)console.error("请求数据的参数不正确，_callBack不是函数类型");else{var e={t:Math.random()};r._planIndexCallback=a,l.requestGet("/plan/updateList",e,"asyncSuccess_planIndex")}},r.getAwardResult=function(a,e){if("function"!=typeof e)console.error("getAwardResult：请求数据的参数不正确，_callBack不是函数类型");else{var n={t:Math.random()};r._planAwardResultCallback=e,l.requestGet("/lottery/"+a+"/getawarddata",n,"asyncSuccess_planAwardResult")}},r.getAwardHTML=function(a,e){if("function"!=typeof e)console.error("getAwardHTML：请求数据的参数不正确，_callBack不是函数类型");else{var n={t:Math.random(),lotteryCode:a.lotteryCode,type:a.type,groupId:a.groupId,date:a.date};r._planAwardHTMLCallback=e,l.requestGet("/plan/updatePlanResult",n,"asyncSuccess_planAwardHTML")}},r.getAwardTimerHTML=function(a,e){if("function"!=typeof e)console.error("getAwardTimerHTML：请求数据的参数不正确，_callBack不是函数类型");else{var n={t:Math.random(),lotteryCode:a.lotteryCode,groupId:a.groupId};r._planAwardResultHTMLCallback=e,l.requestGet("/plan/updateAwardReult",n,"asyncSuccess_planAwardResultHTML")}},r.loopResult=function(a,e){var n=this,l=setInterval(function(){n.getAwardResult(a,function(a){a.period==e&&(window.clearInterval(l),t.emit("awardHTML_PlanLoopAction",a))})},5e3)},r});