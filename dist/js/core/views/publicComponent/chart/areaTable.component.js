define(["jquery","Util","Array"],function(t,r,o){function e(t){var r=[];if(!t)throw"请配置headerConfig";var o=0;for(var e in t)o++;var a=100/o+"%";for(var e in t){t[e].needSort?r.push('<th width="'+a+'"><div class="lt-tableThBlock"><div class="thBlock"><span class="thName">'+t[e].content+'</span><span class="thArrow" data-index="'+e+'"><i data-sort="up" class="top "></i><i data-sort="down" class="bottom"></i></span></div></div></th>'):r.push('<th width="'+a+'"><div class="lt-tableThBlock"><div class="thBlock"><span class="thName">'+t[e].content+"</span></div></div></th>")}return"<tr>"+r.join("\r\n")+"</tr>"}function a(t,r,o){var e="";o&&(e=' class="even"');var a=0;for(var n in r)a++;for(var l=[],d=0;d<t.length;d++){for(var i=[],n=0;n<a;n++)0===n?i.push('<td><span data-cloumn="'+n+'" data-value="'+t[d][n]+'" class="textNumberB" style="white-space: nowrap;">'+t[d][n]+"</span></td>"):i.push('<td><span data-cloumn="'+n+'" data-value="'+t[d][n]+'" class="textNumberB">'+t[d][n]+"</span></td>");l.push(d%2==1?"<tr "+e+">"+i.join("\r\n")+"</tr>":"<tr>"+i.join("\r\n")+"</tr>")}return l.join("\r\n")}var n={};return n.renderTable=function(r,o,n,l,d,i){var s="<table>"+e(n)+"\r\n"+a(1==d?o:o.data,n,l)+"</table>";t("#"+r).html(s),2==d&&t("#"+r).append('<input id="periodCount" type="hidden" value="'+o.periodCount+'">'),"function"==typeof i&&i.call(this,o)},n.renderTableTotal=function(r,o,e,a){if(void 0==r&&"string"!=typeof r)return console.error("renderTableTotal: _containerId参数不能为空或者不是字符串类型！"),!1;if(void 0==o&&"object"!=typeof o)return console.error("renderTableTotal: _tbodyObject参数不能为空或者不是对象类型！"),!1;if(void 0==e&&"object"!=typeof e)return console.error("renderTableTotal: _theaderObject参数不能为空或者不是对象类型！"),!1;if("function"==typeof callback)return console.error("renderTableTotal: _callback回调函数不为函数类型！"),!1;var l="<table>"+n.renderTeadTotal(e,o)+"\r\n"+n.renderTbodyTotal(o)+"</table>";t("#"+r).html(l),void 0!=a&&"function"==typeof a&&a()},n.renderTeadTotal=function(t,r){if(void 0==t&&"object"!=typeof t)return console.error("renderTableTotal: _theaderObject参数不能为空或者不是对象类型！"),!1;if(void 0==r&&"object"!=typeof r)return console.error("renderTableTotal: _tbodyObject参数不能为空或者不是对象类型！"),!1;var o="",e=r[0].outCount;for(var a in t[0])o+='<th><div class="lt-tableThBlock"><div class="thBlock"><span class="thArrow" style="margin-right: 5px;"><i class="top '+("_th1"==a?"active":"")+'"></i><i class="bottom"></i></span><span class="thName">'+t[0][a].content+"</span></div></div></th>";for(var a in e)o+='<th><div class="lt-tableThBlock"><div class="thBlock"><span class="thArrow" style="margin-right: 5px;"><i class="top '+("_th1"==a?"active":"")+'"></i><i class="bottom"></i></span><span class="thName">'+a+"</span></div></div></th>";return"<thead><tr>"+o+"</tr></thead>"},n.renderTbodyTotal=function(t){if(void 0==t&&"object"!=typeof t)return console.error("renderTableTotal: _tbodyObject参数不能为空或者不是对象类型！"),!1;for(var r="",o=0;o<t.length;o++){var e="";if(e+="<td data-value="+t[o].number+">"+t[o].number+"</td>",e+="<td data-value="+t[o].totalCount+">"+t[o].totalCount+"</td>",void 0!=t[o].outCount)for(var a in t[o].outCount)"0"==t[o].outCount[a]?e+="<td data-value='0'></td>":e+="<td class='bg-box-gray'  data-value='"+t[o].outCount[a]+"'>"+t[o].outCount[a]+"</td>";r+="<tr>"+e+"</tr>"}return"<tbody>"+r+"</tbody>"},n.renderTableRowAndColumn=function(r,o,e,a,n){if(void 0==r&&"string"!=typeof r)return console.error("renderTableRowAndColumn: _containerId参数不能为空或者不是字符串类型！"),!1;if(void 0==o&&"object"!=typeof o)return console.error("renderTableRowAndColumn: _tbodyObject参数不能为空或者不是对象类型！"),!1;if(void 0==e&&"object"!=typeof e)return console.error("renderTableRowAndColumn: _typeArray参数不能为空或者不是对象类型！"),!1;if(void 0==a&&"number"!=typeof a)return console.error("renderTableRowAndColumn: _typeArray参数不能为空或者不是数字类型！"),!1;if("function"==typeof callback)return console.error("renderTableRowAndColumn: _callback回调函数不为函数类型！"),!1;for(var l="",d="",i=0;i<o.length;i++){var s,c=0,u="",v=o[i].result.split("|"),b=v[0].split(","),p=v[1].split(",");s="red"==e[2]?b:p;for(var f=0;f<e[0];f++){var h="";0==f&&(u+='<tr><th colspan="'+e[1]+'">'+o[i].issueNo+"</th></tr>");for(var y=0;y<e[1];y++)++c<=a&&(s.Contains(c)?h+='<td class="lis_bg" row="'+y+'">'+(c<10?"0"+c:c)+"</td>":h+='<td row="'+y+'">'+(c<10?"0"+c:c)+"</td>");u+='<tr column="'+f+'">'+h+"</tr>"}d+='<div class="lis_tb" style="height: auto;"><table><tbody>'+u+"</tbody></table></div>"}l+='<div class="trendRowBlock trendR-'+e[2]+'"><div class="trb-listBlock">'+d+"</div></div>",t("#"+r).html(l),void 0!=n&&"function"==typeof n&&n()},n});