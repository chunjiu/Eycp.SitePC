define("core/services/testing.service",["jquery"],function(t){return{isDev:"false"!==t("body").attr("isopeneventnamecheck"),_testingEventName:function(t){return this.isDev?!!/_[\w]*/.test(t):(console.error("body标签上没有设置isOpenEventNameCheck属性！用于开启是否事件名规范校验！"),!1)}}}),define("core/services/event.service",["underscore","jquery","backbone","./testing.service"],function(t,e,a,n){return{_on:function(t,e){"string"==typeof t&&"function"==typeof e?n._testingEventName(t)?(this[t]=this[t]||new Array,this[t].push(e)):console.error("您得事件未指定是从那个组件接收得，请按照事件命名规范编写事件名字！例子：事件名_接收组件(需要加上Component)"):console.error("事件参数不正确！")},_emit:function(t){if("string"==typeof t)if(n._testingEventName(t)){var e=arguments.length>1?Array.prototype.slice.call(arguments,1):[];this[t]&&Array.prototype.forEach.call(this[t],function(t){t.apply(this,e)})}else console.error("您得事件未指定是从那个组件接收得，请按照事件命名规范编写事件名字！例子：事件名_接收组件(需要加上Component)")},on:function(t,e){"string"==typeof t&&"function"==typeof e?n._testingEventName(t)?a.on(t,e):console.error("您得事件未指定是从那个组件接收得，请按照事件命名规范编写事件名字！例子：事件名_接收组件(需要加上Component)"):console.error("事件参数不正确！")},emit:function(t,e){"string"==typeof t&&(n._testingEventName(t)?a.trigger(t,e):console.error("您得事件未指定是从那个组件接收得，请按照事件命名规范编写事件名字！例子：事件名_接收组件(需要加上Component)"))}}}),define("core/services/request.service",["underscore","jquery","backbone","./event.service"],function(t,e,a,n){var r={_asyncRequestBase:function(t,a,r,i,o,s){e.ajax({type:t,async:!0,timeout:1e4,url:a,dataType:r,data:i,success:function(t){t?n.emit(o,t):(n.emit("createPromptWindow_promptWindowComponent",{title:"网络发生异常！",time:600}),console.error("("+o+"事件)返回得数据发生错误:"))},complete:function(t,e){"timeout"==e&&(n.emit("createPromptWindow_promptWindowComponent",{title:"网络异常,请求超时,请稍后再试...",time:600}),s&&n.emit(s,_resultData))},error:function(t,e){"timeout"==e&&(n.emit("createPromptWindow_promptWindowComponent",{title:"网络异常,请求超时,请稍后再试...",time:600}),s&&n.emit(s,_resultData))}})},_asyncRequestBaseJsonp:function(t,a,r,i,o){e.ajax({type:t,async:!0,timeout:1e4,url:a,dataType:"jsonp",jsonp:"jsoncallback",jsonpCallback:i,data:r,success:function(t){t?n.emit(i,t):(n.emit("createPromptWindow_promptWindowComponent",{title:"网络发生异常！",time:600}),console.error("("+i+"事件)返回得数据发生错误:"))},complete:function(t,e){"timeout"==e&&(n.emit("createPromptWindow_promptWindowComponent",{title:"网络异常,请求超时,请稍后再试...",time:600}),o&&n.emit(o,_resultData))},error:function(t,e){"timeout"==e&&(n.emit("createPromptWindow_promptWindowComponent",{title:"网络异常,请求超时,请稍后再试...",time:600}),o&&n.emit(o,_resultData))}})},requestPostJsonp:function(t,e,a,n){return r._asyncRequestBaseJsonp("POST",t,e,a,n)},requestGetJsonp:function(t,e,a,n){return r._asyncRequestBaseJsonp("GET",t,e,a,n)},requestPost:function(t,e,a){return r._asyncRequestBase("POST",t,"json",e,a,_failedEvent)},requestPostSearch:function(t,e,a,n,i){return r._asyncRequestBase("POST",t,e,a,n,i)},requestGet:function(t,e,a,n){return r._asyncRequestBase("GET",t,"json",e,a,n)},requestGetHtml:function(t,e,a,n){return r._asyncRequestBase("GET",t,"text",e,a,n)}};return r}),define("core/actions/omission/omission.action",["underscore","jquery","backbone","../../services/request.service","../../services/event.service"],function(t,e,a,n,r){var i={};return i._requestOmissionCallback,i._requestOmissionChartCallback,i.initialize=function(){var t=this;r.on("asyncSuccess_requestOmission",function(e){t._requestOmissionCallback(e)}),r.on("asyncSuccess_requestOmissionChart",function(e){t._requestOmissionChartCallback(e)})},i.requestOmission=function(t,e,a,r,o){if(void 0==t||"string"!=typeof t)return void console.error("请求数据的参数不正确，_lotteryCode为空,或者是不是字符串类型！");if(void 0==e||"number"!=typeof e)return void console.error("请求数据的参数不正确，_flot为空或者是不是数字类型！");if("function"!=typeof o)return void console.error("请求数据的参数不正确，_callBack不是函数类型！");var s;s=r?{flot:e,quantity:a||500,sort:r,t:Math.random()}:{flot:e,quantity:a||500,t:Math.random()},i._requestOmissionCallback=o,n.requestGet("/omission/"+t+"/requestOmission",s,"asyncSuccess_requestOmission")},i.requestOmissionChart=function(t,e,a,r,o){if(void 0==t||"string"!=typeof t)return void console.error("请求数据的参数不正确，_lotteryCode为空,或者是不是字符串类型！");if(void 0==e||"number"!=typeof e)return void console.error("请求数据的参数不正确，_flot为空或者是不是数字类型！");if(void 0==a||"string"!=typeof a)return void console.error("请求数据的参数不正确，_number为空或者是不是字符串类型！");if(void 0==r||"number"!=typeof r)return void console.error("请求数据的参数不正确，_type为空或者是不是数字类型！");if("function"!=typeof o)return void console.error("请求数据的参数不正确，_callBack不是函数类型！");var s={flot:e,lotterycode:t,number:a,type:r,t:Math.random()};i._requestOmissionChartCallback=o,n.requestGet("/omissionChart/"+t+"/requsetOmissionChart",s,"asyncSuccess_requestOmissionChart")},i}),define("core/actions/public/lottery.action",["underscore","jquery","backbone","Date","../../services/request.service","../../services/event.service"],function(t,e,a,n,r,i){var o={};return o._awardHTMLCallback,o._awardTimerCallback,o._issuenoDataCallback,o._updatePlanCallback,o.initialize=function(t,a,n){this.lotteryCode=t,this.lotteryType=a,this.needUpdatePlan=n;var r=this;i.on("countDowning_timerContainer",function(t){var a=t.toString().SecondsToddhhmmss().split(":"),n="";n=parseInt(a[0])>0?"<b>"+a[0]+"</b><i>天</i><b>"+a[1]+"</b><i>时</i>":parseInt(a[1])>0?"<b>"+a[1]+"</b><i>时</i><b>"+a[2]+"</b><i>分</i>":"<b>"+a[2]+"</b><i>分</i><b>"+a[3]+"</b><i>秒</i>",e(".timeBlock .time").html(n)}),i.on("getAwardTimeObject_timerContainer",function(t){if(r.nextPeriod=t.nextPeriod,e(".next-period").html(r.nextPeriod+"期"),t.originTime){var a=new Date(t.originTime.replace(/-/g,"/")).format("MM-dd hh:mm");e("#lotteryTimerTime").html(a)}}),i.on("complete_timerContainer",function(){e(".beProgressing").show(),e(".preterite").hide(),e(".current-period").html(r.nextPeriod)}),i.on("lotteryResults_timerComponent",function(t){e(".beProgressing").hide(),e(".preterite").show(),o.getAwardHTML(function(t){i.emit("awardHTML_lotteryAction",t),o.needUpdatePlan&&setTimeout(function(){o.updatePlan(function(t){i.emit("awardPlanHTML_lotteryAction",t)})},3e4+Math.random())})}),i.on("digitQuery_historyContainer",function(t){o.getAwardHTML(function(t){i.emit("awardDigitHTML_lotteryAction",t)},t.year,t.day)}),i.on("digitExport_historyContainer",function(t){window.open("/api/"+r.lotteryType+"/"+r.lotteryCode+"/export/"+t.type+"/"+t.year)}),i.on("asyncSuccess_awardHTML",function(t){r._awardHTMLCallback(t)}),i.on("asyncSuccess_awardTimer",function(t){r._awardTimerCallback(t)}),i.on("asyncSuccess_issuenoData",function(t){r._issuenoDataCallback(t)}),i.on("asyncSuccess_updatePlan",function(t){r._updatePlanCallback(t)})},o.getAwardHTML=function(t,e,a){if("function"!=typeof t)console.error("getAwardHTML：请求数据的参数不正确，_callBack不是函数类型");else{var n={date:e,t:Math.random()};a&&(n.year=e,n.day=a),o._awardHTMLCallback=t,r.requestGet("/"+this.lotteryType+"/"+this.lotteryCode+"/indexPage",n,"asyncSuccess_awardHTML")}},o.updatePlan=function(t){if("function"!=typeof t)console.error("getAwardHTML：请求数据的参数不正确，_callBack不是函数类型");else{var e={lotteryCode:this.lotteryCode,t:Math.random()};o._updatePlanCallback=t,r.requestGet("/plan/updatePlan",e,"asyncSuccess_updatePlan")}},o.getAwardResult=function(t){if("function"!=typeof t)console.error("getAwardResult：请求数据的参数不正确，_callBack不是函数类型");else{var e={t:Math.random()};o._awardTimerCallback=t,r.requestGet("/lottery/"+this.lotteryCode+"/getawarddata",e,"asyncSuccess_awardTimer")}},o.getIssuenoData=function(t,e){if(void 0==t||"number"!=typeof t)return void console.error("getIssuenoData：请求数据的参数不正确，_issueno不是数字类型");if("function"!=typeof e)return void console.error("getIssuenoData：请求数据的_callBack参数不正确，_callBack不是函数类型");var a={t:Math.random(),issueno:t};o._issuenoDataCallback=e,r.requestGet("/"+this.lotteryType+"/"+this.lotteryCode+"/getawardinfobyissueno",a,"asyncSuccess_issuenoData")},o.loopResult=function(t){var e=this,a=setInterval(function(){e.getAwardResult(function(n){n.period==t&&(window.clearInterval(a),e.getAwardHTML(function(t){i.emit("awardHTML_lotteryAction",t)}))})},3e3+1e3*parseInt(Math.floor(5*Math.random()+1)))},o}),define("core/views/publicComponent/public/loading.component",["underscore","jquery","backbone","../../../services/event.service"],function(t,e,a,n){return a.View.extend({el:"#loading",id:"#loading",initialize:function(){var t=this;n.on("createLoading_loadingComponent",function(){t.create()}),n.on("delLoading_loadingComponent",function(){t.del()})},create:function(){0==e(this.el).length&&e("body").append('<div class="loadingSection"  id="loading"><div class="loadingIcon">正在加载中</div><div class="loadingMesk"></div></div>')},del:function(){e(this.id).remove()}})}),define("core/views/publicComponent/timer.component",["underscore","jquery","backbone","../../services/event.service"],function(t,e,a,n){return a.View.extend({initialize:function(){var t=this;t.awardTimeCount=0,t.speed=1e3,t.clearInterval=0,n.on("timerCountDown_timerComponent",function(e){return"object"==typeof e&&e?e.completeCallBack&&"function"==typeof e.completeCallBack?e.countDowningCallBack&&"function"==typeof e.countDowningCallBack?void t.timerCountDown(e):void console.error("TimerComponent: timerCountDown方法参数不正确, countDowningCallBack不存在, 或者是不是一个函数！"):void console.error("TimerComponent: timerCountDown方法参数不正确, completeCallBack不存在, 或者是不是一个函数！"):void console.error("TimerComponent: timerCountDown方法参数不正确！")})},timerCountDown:function(t){var e=this;e.awardTimeCount=t.awardTimeCount,window.clearInterval(e.clearInterval),e.clearInterval=window.setInterval(function(){e.awardTimeCount<=0?t.completeCallBack(e.awardTimeCount):t.countDowningCallBack(e.awardTimeCount),e.awardTimeCount--},e.speed)}})}),define("core/actions/public/timer.action",["underscore","jquery","backbone","../../services/request.service","../../services/event.service"],function(t,e,a,n,r){var i={};return i._awardResultCallBack,i._awardDataCallBack,i._awardTimeCallBack,i.initialize=function(){var t=this;r.on("asyncSuccess_awardResult",function(e){t._awardResultCallBack(e)}),r.on("asyncSuccess_awardData",function(e){t._awardDataCallBack(e)}),r.on("asyncSuccess_awardTime",function(e){t._awardTimeCallBack(e)})},i.requestAwardResult=function(t,e){if("string"!=typeof t||"function"!=typeof e)console.error("请求开奖号码的参数不正确，_lotteryCode不是字符串类型或者_awardType不是字符串类型或者_callBack不是函数类型");else{i._awardResultCallBack=e;var a={t:Math.random()};n.requestGet("/lottery/"+t+"/getawarddata",a,"asyncSuccess_awardResult")}},i.requestAwardData=function(t,e,a){if("string"!=typeof t||"string"!=typeof e||"function"!=typeof a)console.error("请求开奖号码的参数不正确，_lotteryCode不是字符串类型或者_awardType不是字符串类型或者_callBack不是函数类型");else{i._awardDataCallBack=a;var r,o={};o.t=Math.random(),e?r=this.judgmentAwardType(e):console.error("开奖历史为空,请设置开奖类型！"),n.requestGet("/lottery/"+t+"/"+r,o,"asyncSuccess_awardData")}},i.requestAwardDataForHtml=function(t,e,a){if("string"!=typeof t||"string"!=typeof e||"function"!=typeof a)console.error("请求开奖号码的参数不正确，_lotteryCode不是字符串类型或者_awardType不是字符串类型或者_callBack不是函数类型");else{i._awardDataCallBack=a;var r,o={t:Math.random()};e?r=this.judgmentAwardType(e):console.error("开奖历史为空,请设置开奖类型！"),n.requestGetHtml("/lottery/"+t+"/"+r,o,"asyncSuccess_awardData")}},i.requestAwardTime=function(t,e){if("string"!=typeof t||"function"!=typeof e)console.error("请求开奖时间的参数不正确，_lotteryCode不是字符串类型或者_callBack不是函数类型");else{var a={t:Math.random()};i._awardTimeCallBack=e,n.requestGet("/lottery/"+t+"/getawardtimes",a,"asyncSuccess_awardTime")}},i.judgmentAwardType=function(t){var e="";return"history"==t&&(e="getawarddata"),e},i}),define("core/views/containers/public/timer.container",["underscore","jquery","backbone","String","../../../services/event.service","../../publicComponent/timer.component","../../../actions/public/timer.action"],function(t,e,a,n,r,i,o){var s;return{initialize:function(t,e){if(s=this,s.isGetAwardData=!0,t&&"string"==typeof t||console.warn("TimerContainer：_lotteryCode参数不正确, 可能为空，可能不是字符串类型，但是允许为空"),!e||"string"!=typeof e)return void console.error("TimerContainer：_awardType参数不正确");s.lotteryCode=t,s.awardType=e,s.awarding=!1,s.awardWait=0,s.awardWaitSpeed=1e3,s.awardResultWaitSpeed=3e3+1e3*parseInt(Math.floor(5*Math.random()+1)),s.periodText=0,s.isGetJson=s.isReturnJson(s.awardType),o.initialize();new i;s.getAwardTime(s.getAwardTimeCallBack,!0),r.on("isGetAwardData_timerContainer",function(t){void 0!=t&&"boolean"==typeof t?(s.isGetAwardData=t,s.awarding=!1):console.error("isGetAwardData：参数不能为空并且必须是布尔类型！")})},getAwardTimeCallBack:function(t){r.emit("timerCountDown_timerComponent",{completeCallBack:s.completeCallBack,countDowningCallBack:s.countDowningCallBack,awardTimeCount:t}),s.timerAwardData(s.awardWaitSpeed,s.getResultSuccessCallBack)},getAwardTimeCallBack2:function(t){r.emit("timerCountDown_timerComponent",{completeCallBack:s.completeCallBack,countDowningCallBack:s.countDowningCallBack,awardTimeCount:t})},countDowningCallBack:function(t){r.emit("countDowning_timerContainer",t)},completeCallBack:function(t){s.awarding=!0,console.log("开奖中, 还有"+s.awardWait+"秒就更新开奖结果！"),r.emit("complete_timerContainer",t),s.getAwardTime(s.getAwardTimeCallBack2,!1)},getResultSuccessCallBack:function(t){if(s.isGetJson){var e={type:"json",result:t};r.emit("lotteryResults_timerComponent",e)}else{window.setTimeout(function(){o.requestAwardDataForHtml(s.lotteryCode,s.awardType,function(t){var e={type:"html",result:t};r.emit("lotteryResults_timerComponent",e)})},0)}},timerAwardData:function(t,e){var a=window.setInterval(function(){if(s.awarding&&s.isGetAwardData)if(s.awardWait<=0){console.log("=================开始请求服务器拿开奖结果 ========================="),window.clearInterval(a);var t=window.setInterval(function(){o.requestAwardResult(s.lotteryCode,function(a){parseInt(a.period)==s.nextPeriod&&(s.awarding=!1,window.clearInterval(t),s.nextPeriod=s.nextPeriodNow,s.awardWait=s.nextAwardWait,console.log("=================已经拿到最新开奖结果，重新开始倒计 ========================="),e(a),s.timerAwardData(s.awardWaitSpeed,s.getResultSuccessCallBack))})},s.awardResultWaitSpeed)}else s.awardWait--},t)},getAwardTime:function(t,e){var a=this;o.requestAwardTime(a.lotteryCode,function(n){a.awardTimeCount=parseFloat(n.awardTimeInterval);var i=parseInt(n.next.period);e&&(a.nextPeriod=i,a.awardWait=parseInt(n.waitTimeInterval),a.reloading=!1),a.periodText=i.toString(),a.nextPeriodNow=i,a.nextAwardWait=parseInt(n.waitTimeInterval),a.periodText.length<3&&(a.periodText=a.periodText.replace(/\d+/g,function(t){return"00".substr(t.length-1)+t})),console.log("距"+a.periodText+"期开奖"),r.emit("getAwardTimeObject_timerContainer",{currentPeriod:n.current.period,nextPeriod:a.periodText,time:a.formatTime(n.time),surplus:n.overPeriod,originTime:e?"":n.time}),t&&t(a.awardTimeCount)})},isReturnJson:function(t){return void 0==t?(s.awardType="other",!1):"history"==t||"javascript"==s.awardType},formatTime:function(t){if(t){if(-1==t.indexOf(" "))return t.replace(/\//g,"-");return t.split(" ")[0].replace(/\//g,"-")}return void console.error("formatDate: 参数不存在！")}}}),define("core/views/publicComponent/chart/changeState.component",["jquery","Util","../../../services/event.service"],function(t,e,a){var n={};n.tempName="";var r={ballStyle:{ballBlue:"bg-ball-blue",ballRed:"bg-ball-red",ballPurple:"bg-ball-purple",ballGreen:"bg-ball-green"},fontStyle:{fontBold:"font-bold",fontGray:"font-gray",fontRed:"font-red",fontBlue:"font-blue",fontGreen:"font-green",fontPurple:"font-purple",fontWhite:"font-white"},bgBoxStyle:{bgBoxTintBlue:"bg-box-tintBlue",bgBoxRed:"bg-box-red",bgBoxBlue:"bg-box-blue",bgBoxPurple:"bg-box-purple",bgBoxGreen:"bg-box-green",bgBoxGray:"bg-box-gray"}};return n.addSegmentingLine=function(e,a,n,r,i){var o=t(e).find("thead tr").length;t(e).find("thead tr").each(function(e,s){0!=o&&t(s).find('th[modular="'+a+'"]').each(function(e,a){for(var o=0;o<n.length;o++)if(e==n[o]){t(a).css({"border-right-width":r+"px","border-right-color":i});break}})}),t(e).find(".trend tr").each(function(e,o){t(o).find('td[modular="'+a+'"]').each(function(e,a){for(var o=0;o<n.length;o++)if(e==n[o]){t(a).css({"border-right-width":r+"px","border-right-color":i});break}})})},n.addRightBorder2px=function(e,a,n){t(e).find("thead tr").each(function(e,r){t(r).find("th").each(function(r,i){if(0==e&&void 0!=s)t(i).css({"border-right-width":a+"px","border-right-color":n});else{var o=t(i).attr("modular"),s=t(i).next().attr("modular");void 0==o&&void 0==s?t(i).css({"border-right-width":a+"px","border-right-color":n}):o!==s&&void 0!=s?t(i).css({"border-right-width":a+"px","border-right-color":n}):void 0!=o&&void 0==s&&t(i).css({"border-right-width":a+"px","border-right-color":n})}})}),t(e).find(".trend tr").each(function(e,r){t(r).find("td").each(function(e,r){var i=t(r).attr("modular"),o=t(r).next().attr("modular");/period_/g.test(i)?0==/period_/g.test(o)&&t(r).css({"border-right-width":a+"px","border-right-color":n}):/result_/g.test(i)?0==/result_/g.test(o)&&t(r).css({"border-right-width":a+"px","border-right-color":n}):i!==o&&void 0!=o&&t(r).css({"border-right-width":a+"px","border-right-color":n})})})},n.addPreselectionZindex=function(){var e=t("#preselectionButton").parent().find(".npb-ulB").length;void 0!=e&&t("#preselectionButton").parent().find(".npb-ulB").each(function(a,n){t(n).css({"z-index":e--})})},n.addTotalStyle=function(e){t(e).find("td").each(function(e,a){1!=t(a).attr("column")&&n.changeHotAndColdColor(t(a),5,12,13)})},n.addTotalStyle2=function(e){t(e).find("td").each(function(e,a){1!=t(a).attr("column")&&([2,3,4,5].Contains(t(a).attr("column"))?n.changeHotAndColdColor(t(a),8,12,13):6==t(a).attr("column")?n.changeHotAndColdColor(t(a),32,37,38):7==t(a).attr("column")?n.changeHotAndColdColor(t(a),43,47,48):[8,9,10,11,12,13].Contains(t(a).attr("column"))&&n.changeHotAndColdColor(t(a),7,20,21))})},n.changeHotAndColdColor=function(t,e,a,n){parseInt(t.attr("data-value"))<=e?t.addClass(r.bgBoxStyle.bgBoxGreen):parseInt(t.attr("data-value"))>e&&parseInt(t.attr("data-value"))<=a?t.addClass(r.bgBoxStyle.bgBoxGray):parseInt(t.attr("data-value"))>=n&&t.addClass(r.bgBoxStyle.bgBoxRed)},n.getCookie=function(a,r,i,o){var s=t("#mainContainer").attr("data-lotteryCode");-1==a.indexOf("_")&&(a=a+"_"+s);var l,d=e.getCookie(a),c=parseInt(t("#mainContainer").attr("data-flot"));if(d){var u=JSON.parse(d);if(void 0!=u[s][c]&&u[s][c].length>0){t("#preselectionButton").html("隐藏预选号码");for(var f in u)if(f==s){l=u[f][c];for(var m=0;m<l.length;m++)t("#preselectionButton").parent().append(n.addPreselection(r,i,o));t("#preselectionButton").parent().find(".npb-ulB").each(function(e,a){t(a).find(".npb-liB").each(function(a,n){t(n).parent().find(".selectedText").html(u[s][c][e].period),t(n).find(".num").each(function(n,r){if(0==a){for(var i=0;i<l[e].frontArea.length;i++)if(l[e].frontArea[i]==parseInt(t(r).html())){if(t(r).addClass("active"),t(r).attr("data-size","1"),l[e].frontCount.length>0){var o=l[e].frontCount[i];t(r).attr("data-size",o),o>1?t(r).html(l[e].frontArea[i]+"<i class='small-"+l[e].frontCount[i]+"'></i>"):t(r).html(l[e].frontArea[i])}break}}else for(var i=0;i<l[e].backArea.length;i++)if(l[e].backArea[i]==parseInt(t(r).html())){t(r).addClass("active");break}})})})}}}n.addPreselectionZindex()},n.setCookie=function(a){var n,r,i,o=[];if(n=parseInt(t("#mainContainer").attr("data-flot")),r=t("#mainContainer").attr("data-lotteryCode"),a=a+"_"+r,i=e.getCookie(a),t(".lt-numPrimaryBlock .npb-ulB").each(function(e,a){var n={},r=[],i=[],s=[],l=[];t(a).find(".npb-liB").each(function(e,a){l=t(a).parents(".npb-ulB").find(".selectedText").html(),t(a).find(".active").each(function(a,n){0==e?(r.push(parseInt(t(n).html())),s.push(parseInt(t(n).attr("data-size")))):1==e&&i.push(parseInt(t(n).html()))})}),n.period=l,n.frontArea=r,n.frontCount=s,n.backArea=i,o.push(n)}),void 0==i){var s={};s[r]={},s[r][n]=o}else{i=JSON.parse(i);for(var l in i)if(l==r){i[l][n]=o,s=i;break}}e.setCookie(a,JSON.stringify(s))},n.preselection=function(e){t("#preselectionButton").hide()},n.PrefixInteger=function(t,e){return(Array(e).join(0)+t).slice(-e)},n.IssueList=function(e){var a=1,n=t("#mainContainer").attr("data-lotteryCode");void 0!=t("#maxPeriod").attr("data-max")&&(a=parseInt(t("#maxPeriod").attr("data-max")));var r="";if(1==a||"bjk3"==n)for(var i=parseInt(e),o=0;o<10;o++)r+='<span class="lis" data-code="">'+i+"</span>",i++;else{var s,l,d,c=e.substring(0,e.length-3),u=0;if("gxkl10"==n){c=e.substring(0,e.length-2),u=parseInt(e.substring(e.length-2,e.length)),s=parseInt(c.substring(0,4)),d=parseInt(c.substring(4,7)),l="";for(var o=0;o<10;o++)u>a?(u=1,d+=1,r+='<span class="lis" data-code="">'+s+this.PrefixInteger(d,3)+"01</span>"):r+='<span class="lis" data-code="">'+s+d+this.PrefixInteger(u,2)+"</span>",u++}else{u=parseInt(e.substring(e.length-3,e.length)),s=c.substring(0,4),l=c.substring(4,6),d=c.substring(6,8);for(var f=new Date(s,l,d),o=0;o<10;o++)u>a?(f.setDate(parseInt(d)+1),u=1,r+='<span class="lis" data-code="">'+f.getFullYear()+f.getMonth()+1+f.getDate()+"001</span>"):(c=f.getFullYear()+""+f.getMonth()+1+f.getDate(),r+='<span class="lis" data-code="">'+c+this.PrefixInteger(u,3)+"</span>"),u++}}return r},n.addPreselection=function(e,a,r){void 0==e&&(e=1);var i="",o=n.dealWithAreaString(a),s="",l=t(".next-period").html().replace("期",""),d="";d=this.IssueList(l);for(var c=0;c<o.length;c++)s+='<span class="num" data-size="0" data-value="'+o[c]+'">'+o[c]+"</span>";if(1==e&&void 0!=a)i+='<div class="npb-ulB"><div class="public_selectPlugIn"><span class="selectArrow"></span><span class="selectedText">'+l+'</span><div class="selectOption" style="display: none;">'+d+'</div></div><div class="npb-liB  frontArea" data-max='+a.maxNumber+" data-more="+(void 0==a.more?"false":"true")+'><span class="text">前区预选：</span><div class="number">'+s+'</div><div class="tool"><a href="javascript:void(0)" class="clearNumber">清空号码</a><i>|</i><a href="javascript:void(0)" class="addNumber">增加一行</a><i>|</i><a href="javascript:void(0)" class="deleteNumber">删除行</a></div></div></div>';else if(2==e&&void 0!=r){for(var u=n.dealWithAreaString(r),f="",c=0;c<u.length;c++)f+='<i class="num">'+u[c]+"</i>";i+='<div class="npb-ulB"><div class="public_selectPlugIn"><span class="selectArrow"></span><span class="selectedText">'+l+'</span><div class="selectOption" style="display: none;">'+d+'</div></div><div class="npb-liB frontArea" data-max='+a.maxNumber+'><span class="text">前区预选：</span><div class="number">'+s+'</div></div><div class="npb-liB  backArea" data-max='+r.maxNumber+'><span class="text">后区预选：</span><div class="number">'+f+'</div><div class="tool"><a href="javascript:void(0)" class="clearNumber">清空号码</a><i>|</i><a href="javascript:void(0)" class="addNumber">增加一行</a><i>|</i><a href="javascript:void(0)" class="deleteNumber">删除行</a></div></div></div>'}return i},n.dealWithAreaString=function(t){if(void 0==t)return void console.error("dealWithAreaString：参数不能为空！");var e=[],a="";if(void 0!=t.number)if(/\~/g.test(t.number)){a=t.number.replace(/(^\s*)|(\s*$)/g,"").split("~");for(var n=parseInt(a[0]);n<=parseInt(a[1]);n++)e.push(n)}else if(/\|/g.test(t.number)){a=t.number.replace(/(^\s*)|(\s*$)/g,"").split("|");for(var n=0;n<a.length;n++)e.push(n)}return e},n.addTypeAwardBlue=function(e){return t(".trend [modular="+e+"]").each(function(e,a){for(var n="",r=t(a).attr("data-value"),i=r.split(","),o=0;o<i.length;o++)"合"==i[o]||"小"==i[o]||"偶"==i[o]?n+='<i class="font-blue">'+i[o]+"</i>":n+='<i class="font-red">'+i[o]+"</i>";t(a).html(n)}),!1},n.addBigAward=function(e,a){return 1,t(e).find(".trend tr").each(function(e,a){t(a).find("td").each(function(e,a){if(/result_/g.test(t(a).attr("modular"))&&parseInt(t(a).find("span").html())>18){var n=t(a).find("span");n.removeClass(r.fontStyle.fontBlue),n.addClass(r.fontStyle.fontRed)}})}),!1},n.addSamePeriod=function(e,a,i,o){var s=parseInt(t("#mainContainer").attr("data-flot")),l=[10,11,13,14,16,17],d=[30,31];void 0==a&&(a=2),i=void 0==i?"":i,t(e).find(".trend tr").each(function(e,c){var u,f=[];""==i?t(c).find("td").each(function(e,a){if(/result_/g.test(t(a).attr("modular"))&&(f.push({data:parseInt(t(a).find("span").html()),tdDom:t(a)}),0==/result_/g.test(t(a).next().attr("modular"))))return!1}):t(c).find("td").each(function(e,a){if(/result_/g.test(t(a).attr("modular"))){var n=parseInt(t(a).attr("modular").split("_")[1]);if(l.Contains(s)?0!==n&&1!==n&&2!==n&&f.push({data:parseInt(t(a).find(".sscStar").html()),tdDom:t(a)}):d.Contains(s)&&0!==n&&1!==n&&f.push({data:parseInt(t(a).find(".sscStar").html()),tdDom:t(a)}),0==/result_/g.test(t(a).next().attr("modular")))return!1}}),u=n.getSamePeriod(f);for(var m=0;m<u.length;m++)i||(2==u[m].count?u[m].tdDomArr[0].parent().find("td").each(function(e,a){if(/result_/g.test(t(a).attr("modular"))&&(t(a).find("span").addClass(r.fontStyle.fontRed),0==/result_/g.test(t(a).next().attr("modular"))))return!1}):u[m].count>2&&u[m].tdDomArr[0].parent().find("td").each(function(e,a){var n="";if(n=i?r.fontStyle.fontRed:r.fontStyle.fontPurple,/result_/g.test(t(a).attr("modular"))&&(t(a).find("span").addClass(n),0==/result_/g.test(t(a).next().attr("modular"))))return!1}));2==a&&t(c).find("td").each(function(e,a){if(t(a).attr("modular")==(o||"data_0"))for(var n=0;n<u.length;n++)for(var i=0;i<u[n].tdDomArr.length;i++)if(2==u[n].count){if(parseInt(t(a).find("span").html())==u[n].num&&t(a).hasClass(t(a).attr("css-awardnumber"))&&t(a).removeAttr("class").addClass(r.ballStyle.ballRed).find("span").append('<i class="small-2"></i>'),t(a).attr("modular")!=(o||"data_0"))return!1}else if(u[n].count>2&&(parseInt(t(a).find("span").html())==u[n].num&&t(a).hasClass(t(a).attr("css-awardnumber"))&&t(a).removeAttr("class").addClass(r.ballStyle.ballPurple).find("span").append('<i class="small-'+u[n].count+'"></i>'),t(a).attr("modular")!=(o||"data_0")))return!1})})},n.getSamePeriod=function(t){var e=[];t.sort(n.sortBy("data",!1));for(var a=0;a<t.length;){for(var r=0,i=[],o=a;o<t.length;o++)t[a].data==t[o].data&&(r++,r>=2?i.push(t[o].tdDom):i.push(t[a].tdDom));e.push({num:t[a].data,count:r,tdDomArr:i}),a+=r}return e},n.sortBy=function(t,e){return e=void 0==e?1:e?1:-1,function(a,n){var r=parseFloat(a[t]),i=parseFloat(n[t]);return r<i?-1*e:r>i?1*e:0}},n.changeSscWord=function(e){63==e?t(".trend .bigToSmall").each(function(){["8","11","14","17","20"].Contains(t(this).attr("column").toString())?(t(this).addClass("bg-box-red"),t(this).find("span").html("大")):(t(this).addClass("bg-box-blue"),t(this).find("span").html("小"))}):64==e&&t(".trend .oddToEven").each(function(){["8","11","14","17","20"].Contains(t(this).attr("column").toString())?(t(this).addClass("bg-box-red"),t(this).find("span").html("单")):(t(this).addClass("bg-box-blue"),t(this).find("span").html("双"))})},n.changeSscNum=function(){t(".trend tr").each(function(){var e=t(this).find(".specialRedNum").find("span").html();t(this).find(".specialBlueNum").find("span").html(e)})},n.addHotColdNumer=function(e){var a,n,i=t("#periodCount").val().split("|");switch(e){case"100":a=41,n=35;break;case"101":a=20,n=13;break;case"102":a=8,n=3;break;case"103":a=3,n=0;break;case"104":a=2,n=0;break;case"105":case"110":case"114":a=8,n=4;break;case"106":a=20,n=9;break;case"107":a=9,n=6;break;case"108":a=3,n=0;break;case"109":a=3,n=1;break;case"111":case"115":a=15,n=7;break;case"112":case"113":a=2,n=0}for(var o=0;o<i.length;o++)t('[data-cloumn="'+(o+2)+'"]').each(function(){var e=parseInt(t(this).data("value"));e&&(e>=a?t(this).parent().addClass(r.bgBoxStyle.bgBoxRed):e<=n?e>0&&t(this).parent().addClass(r.bgBoxStyle.bgBoxGreen):t(this).parent().addClass(r.bgBoxStyle.bgBoxGray))})},n.addSegmenting=function(e,a,n){t(e).find(".trend tr:nth-child("+n+"n)").each(function(e,n){t(n).addClass(a)})},n.removeSegmenting=function(e,a){t(e).find(".trend tr").each(function(e,n){t(n).removeClass(a)})},n.openBrokenLine=function(e){t(e).show()},n.closeBrokenLine=function(e){t(e).hide()},n.clearOmissionDelaminationEvent=function(e){t(e).find(".trend tr").each(function(e,a){t(a).find("td").each(function(e,a){t(a).removeClass(t(a).attr("css-omissiondelamination"))})})},n.omissionDelaminationEvent=function(e){for(var a=t(e),n=parseInt(a.find('.trend tr:last td[modular="data_0"]:first').attr("column")),r=parseInt(a.find(".trend tr:first").find("[css-omissiondelamination]:last").attr("column")),i=n;i<=r;i++)for(var o=t('.trend [column="'+i+'"]'),s=o.length,l=s-1;l>=0;l--){var d=o.eq(l),c=parseInt(d.attr("data-value")?d.attr("data-value"):0);if(!(c>0))break;d.addClass(d.attr("css-omissiondelamination"))}},n.serialNumberEvent=function(e){t(e).find(".trend td").each(function(e,a){var n=t(a).prev(),r=t(a).next(),i=t(a).attr("css-serialNumber");t(a).attr("css-awardNumber")&&n.attr("css-awardNumber")&&t(a).attr("modular")==n.attr("modular")&&(t(a).addClass(i),n.addClass(i)),t(a).attr("css-awardNumber")&&r.attr("css-awardNumber")&&t(a).attr("modular")==r.attr("modular")&&(t(a).addClass(i),r.addClass(i))})},n.clearSerialNumberEvent=function(e){t(e).find(".trend td").each(function(e,a){var n=t(a).attr("css-serialNumber");t(a).removeClass(n)})},n.edgeNumberEvent=function(e){t(e).find(".trend tr").each(function(a,n){t(n).find("td").each(function(n,r){var i=t(r).attr("css-edgeNumber");if(i&&t(r).attr("css-awardNumber")){var o=parseInt(t(r).attr("column"))-1,s=a;if(t(e).find(".trend tr").length-1==s){var l=t(e).find(".trend tr").eq(s-1).find("td").eq(o-1),d=t(e).find(".trend tr").eq(s-1).find("td").eq(o+1);l.attr("css-awardNumber")&&t(r).attr("modular")==l.attr("modular")&&t(r).addClass(i),d.attr("css-awardNumber")&&t(r).attr("modular")==l.attr("modular")&&t(r).addClass(i)}else{var c=t(e).find(".trend tr").eq(s+1).find("td").eq(o-1),u=t(e).find(".trend tr").eq(s+1).find("td").eq(o+1);c.attr("css-awardNumber")&&t(r).attr("modular")==c.attr("modular")&&(t(r).addClass(i),c.addClass(i)),u.attr("css-awardNumber")&&t(r).attr("modular")==u.attr("modular")&&(t(r).addClass(i),u.addClass(i))}}})})},n.clearEdgeNumberEvent=function(e){t(e).find(".trend td").each(function(e,a){var n=t(a).attr("css-edgeNumber");t(a).removeClass(n)})},n.serialTwoNumberEvent=function(e){t(e).find(".trend tr").each(function(a,n){t(n).find("td").each(function(n,r){var i=t(r).attr("css-edgeTwoNumber");if(i&&t(r).attr("css-awardNumber")){var o=parseInt(t(r).attr("column"))-1,s=a;if(t(e).find(".trend tr").length-1==s){var l=t(e).find(".trend tr").eq(s-2).find("td").eq(o-2),d=t(e).find(".trend tr").eq(s-2).find("td").eq(o+2);l.attr("css-awardNumber")&&t(r).attr("modular")==l.attr("modular")&&t(r).addClass(i),d.attr("css-awardNumber")&&t(r).attr("modular")==l.attr("modular")&&t(r).addClass(i)}else{var c=t(e).find(".trend tr").eq(s+2).find("td").eq(o-2),u=t(e).find(".trend tr").eq(s+2).find("td").eq(o+2);c.attr("css-awardNumber")&&t(r).attr("modular")==c.attr("modular")&&(t(r).addClass(i),c.addClass(i)),u.attr("css-awardNumber")&&t(r).attr("modular")==u.attr("modular")&&(t(r).addClass(i),u.addClass(i))}}})})},n.omissionNumberEvent=function(e,a){t(e).find(".trend td").each(function(e,n){var r=t(n).attr("data-value");r&&void 0==t(n).attr("css-awardNumber")&&(a||void 0==t(n).attr("css-omissiondelamination")?t(n).find("span").html(r):t(n).find("span").html(""))})},n.clearHeavyNumberEvent=function(e){t(e).find(".trend td").each(function(e,a){var n=t(a).attr("css-heavyNumber");t(a).removeClass(n)})},n.heavyNumberEvent=function(e){t(e).find(".trend tr").each(function(a,n){t(n).find("td").each(function(n,r){var i=t(r).attr("css-heavyNumber");if(i&&t(r).attr("css-heavyNumber")){var o=parseInt(t(r).attr("column"))-1,s=a;t(e).find(".trend tr").eq(s+1).find("td").eq(o).attr("css-awardNumber")?(t(r).addClass(i),t(e).find(".trend tr").eq(s+1).find("td").eq(o).addClass(i)):t(e).find(".trend tr").length-1==s&&t(e).find(".trend tr").eq(s-1).find("td").eq(o).attr("css-awardNumber")&&t(r).addClass(i)}})})},n.sortColumn=function(e,r,i){var o=[];t(e).find("tbody").eq(0).find("tr").each(function(e,a){t(a).find("td").each(function(e,a){e==r&&o.push({value:parseFloat(t(a).attr("data-value")),domObject:t(a).parent()})})})
;for(var s=o.sort(n.sortBy("value",i)),l="",d=0;d<s.length;d++)l+="<tr>"+s[d].domObject.html()+"</tr>";t(e).find("tbody").eq(0).html(l),window.setTimeout(function(){a.emit("sortComplate_changeStateComponent")},30)},n.sortBy=function(t,e){return e=void 0==e?1:e?1:-1,function(a,n){var r=parseFloat(a[t]),i=parseFloat(n[t]);return r<i?-1*e:r>i?1*e:0}},n}),define("core/views/containers/omission/index.container",["underscore","jquery","backbone","../../../services/event.service","../../../actions/omission/omission.action","../../../actions/public/lottery.action","../../publicComponent/public/loading.component","../public/timer.container","../../publicComponent/chart/changeState.component"],function(t,e,a,n,r,i,o,s,l){return{initialize:function(t,a,l,d,c,u){var f=this;r.initialize();new o;s.initialize(t,"history"),"local"==d?i.initialize(t,"digit"):i.initialize(t,d),c&&i.loopResult(u),f.lotteryCode=t,f.flot=l,f.lotteryClassify=a,f.containerId="areaContainer","true"==e("#numberBall").attr("ismultilinesingleselection")?f.screenOmissionType=!0:f.screenOmissionType=!1,f.initEvent(),n.on("awardHTML_lotteryAction",function(t){if(e(".public-lotteryLatestInfo").html(t.timer),e(".history-body").html(t.index),e("#autoRefresh i").hasClass("active"))f.matchingPeriods(12e4);else{var a=0;0==e("#autoRefreshWindow").length&&(a=12e4,window.setTimeout(function(){e("body").append('<div class="eyu200-trendHintBlock" style="z-index: 9999; width: 1000px; top: inherit; bottom: 30px; margin-left: -500px; display: none;" id="autoRefreshWindow">数据已刷新，<a href="javascript:void(0);" id="reloadChart">点击刷新</a></div>'),e("#autoRefreshWindow").fadeIn(600)},a))}}),n.on("requestOmissionComplate_omissionContainer",function(){f.screenOmissionType?"k3"==f.lotteryClassify&&12!=f.flot&&31!=f.flot&&32!=f.flot&&33!=f.flot?f.screenOmissionNumberOfBallsToK3():"ssc"==f.lotteryClassify&&58==f.flot?f.screenOmissionNumberOfBallsToSSC58():f.screenOmissionNumberOfBalls():f.screenOmission(),console.log("数据更新完成！")})},initEvent:function(){var t=this;e("body").on("click","#autoRefresh",function(){var t=e(this).find("i");t.hasClass("active")?t.removeClass("active"):t.addClass("active")}),e("body").on("click","#reloadChart",function(){t.refreshOmissionData(t)}),e("body").on("click","#autoRefreshWindow",function(){t.refreshOmissionData(t)}),e("body").on("click","#getPeriodsNumber  .button",function(){e(this).parent().find(".button").removeClass("active"),e(this).addClass("active");var a=!!e("#areaContainer .active").hasClass("top");"号码类型"==e("#areaContainer .active").parents(".thBlock").find(".thName").html()?t.refreshOmissionData(t,function(){e("#areaContainer th i").removeClass("active"),e("#areaContainer th .top").removeClass("active"),a?(e("#areaContainer th:first-child").find(".bottom").removeClass("active"),e("#areaContainer th:first-child").find(".top").addClass("active")):(e("#areaContainer th:first-child").find(".top").removeClass("active"),e("#areaContainer th:first-child").find(".bottom").addClass("active"))},a?"asc":"desc"):t.refreshOmissionData(t)}),e("body").on("click","#areaContainer th",function(){var a;if(0!=e(this).find(".thArrow").length){var r=e(this).find(".active").hasClass("top")?"top":"bottom";if(e("#areaContainer th i").removeClass("active"),e("#areaContainer th .top").removeClass("active"),"top"==r?(e(this).find(".top").removeClass("active"),e(this).find(".bottom").addClass("active"),a=!1):(e(this).find(".bottom").removeClass("active"),e(this).find(".top").addClass("active"),a=!0),"号码类型"==e(this).find(".thName").html())t.refreshOmissionData(t,function(){e("#areaContainer th i").removeClass("active"),e("#areaContainer th .top").removeClass("active"),a?(e("#areaContainer th:first-child").find(".bottom").removeClass("active"),e("#areaContainer th:first-child").find(".top").addClass("active")):(e("#areaContainer th:first-child").find(".top").removeClass("active"),e("#areaContainer th:first-child").find(".bottom").addClass("active"))},a?"asc":"desc");else{var i=e(this).index();l.sortColumn("#areaContainer table",i,a),n.on("sortComplate_changeStateComponent",function(){t.screenOmissionType?"k3"==t.lotteryClassify&&12!=t.flot&&31!=t.flot&&32!=t.flot&&33!=t.flot?t.screenOmissionNumberOfBallsToK3():"ssc"==t.lotteryClassify&&58==t.flot?t.screenOmissionNumberOfBallsToSSC58():t.screenOmissionNumberOfBalls():t.screenOmission()})}}}),e("body").on("mouseenter",".toolNumberBlock",function(){var t=e(this).find(".more");t.hasClass("active")?t.removeClass("active"):t.addClass("active"),e(this).mouseleave(function(){t.removeClass("active")})}),e("body").on("mouseenter","#areaContainer tbody tr",function(){e(this).find("td").css({"background-color":"#fff3a4"})}),e("body").on("mouseleave","#areaContainer tbody tr",function(){e(this).find("td").css({"background-color":""})}),e("body").on("click","#numberBall .num",function(){if("k3"==t.lotteryClassify&&12!=t.flot&&31!=t.flot&&32!=t.flot&&33!=t.flot){var a=e(this).parent().index();0==a?e(this).hasClass("active")?e(this).removeClass("active"):(e(this).parent().find(".num").removeClass("active"),e(this).addClass("active")):e(this).hasClass("active")?e(this).removeClass("active"):e(this).addClass("active"),e("#numberBall .active").length>0?t.screenOmissionNumberOfBallsToK3():e("#areaContainer table tr").show()}else if("ssc"==t.lotteryClassify&&58==t.flot){var a=e(this).parent().index();0==a?e(this).hasClass("active")?e(this).removeClass("active"):(e(this).parent().find(".num").removeClass("active"),e(this).addClass("active")):e(this).hasClass("active")?e(this).removeClass("active"):e(this).addClass("active"),e("#numberBall .active").length>0?t.screenOmissionNumberOfBallsToSSC58():e("#areaContainer table tr").show()}else"true"==e(this).parents("#numberBall").attr("ismultilinesingleselection")?(e(this).hasClass("active")?e(this).removeClass("active"):(e(this).parent().find(".num").removeClass("active"),e(this).addClass("active")),e("#numberBall .active").length>0?t.screenOmissionNumberOfBalls():e("#areaContainer table tr").show()):(e(this).hasClass("active")?e(this).removeClass("active"):e(this).addClass("active"),e("#numberBall .active").length>0?t.screenOmission():e("#areaContainer table tr").show())}),e("body").on("click","#clearBall",function(){e("#numberBall .num").removeClass("active"),e("#areaContainer table tr").show()}),e("body").on("mouseover",".nameBlock a",function(){e(this).parent().parent().find("span").css("color","#e33d3d")}),e("body").on("mouseout",".nameBlock a",function(){e(this).parent().parent().find("span").css("color","#333333")})},screenOmissionNumberOfBallsToSSC58:function(){var t="",a=[],n="";if(e("#numberBall .active").length>0){if(e("#numberBall  .lis").eq(0).find(".active").each(function(a,r){0==a&&(t+="^"),n=e(r).html().substring(0,1)}),e("#numberBall  .lis").eq(1).find(".active").each(function(t,n){a.push(e(n).html())}),a.length>0){t="";for(var r=0;r<a.length;r++)t.length>0&&(t+="|"),n.length>0?t+="("+n+","+n+","+a[r]+")|("+a[r]+","+n+","+n+")":t+=a[r];t=t}else t="("+n+","+n+")";e("#areaContainer table tr td:first-child").each(function(a,n){new RegExp(t,"g").test(e(n).html())?e(n).parent().show():e(n).parent().hide()})}},screenOmissionNumberOfBallsToK3:function(){var t=this,a="",n=[],r="";if(e("#numberBall .active").length>0){if(e("#numberBall  .lis").eq(0).find(".active").each(function(n,i){0==n&&(a+="^"),20==t.flot?r=e(i).html().substring(0,1):a+=e(i).html()+"#"}),20==t.flot)if(e("#numberBall  .lis").eq(1).find(".active").each(function(t,a){n.push(e(a).html())}),n.length>0){a="";for(var i=0;i<n.length;i++)a.length>0&&(a+="|"),r.length>0?a+="("+r+","+r+","+n[i]+")|("+n[i]+","+r+","+r+")":a+=n[i];a=a}else a="("+r+","+r+")";else{var o=[];e("#numberBall  .lis").not(".lis:first-child").find(".active").each(function(t,n){if(o.push(e(n).html()),t==e("#numberBall  .lis").not(".lis:first-child").find(".active").length-1)for(var r=0;r<o.length;r++)a+="(?=.*"+o[r]+")"})}e("#areaContainer table tr td:first-child").each(function(t,n){new RegExp(a,"g").test(e(n).html())?e(n).parent().show():e(n).parent().hide()})}},screenOmissionNumberOfBalls:function(){var t="";e("#numberBall .active").length>0&&(e("#numberBall .active").each(function(a,n){0==a&&(t+="^"),a==e("#numberBall .active").length-1?(t+=e(n).html(),t="("+t+")"):t+=e(n).html()+","}),e("#areaContainer table tr td:first-child").each(function(a,n){new RegExp(t,"g").test(e(n).html())?e(n).parent().show():e(n).parent().hide()}))},screenOmission:function(){var t="",a=[];e("#numberBall .active").length>0&&(e("#numberBall .active").each(function(n,r){if(a.push(e(r).html()),n==e("#numberBall .active").length-1)for(var i=0;i<a.length;i++)t+="(?=.*"+a[i]+")"}),e("#areaContainer table tr td:first-child").each(function(a,n){new RegExp(t,"g").test(e(n).html())?e(n).parent().show():e(n).parent().hide()}))},refreshOmissionData:function(t,a,n){var r=parseInt(e("#getPeriodsNumber .active").attr("data-num"));t.changeOmissionData(t.lotteryCode,t.flot,r,a,n)},changeOmissionData:function(t,a,i,o,s){var l=this;n.emit("createLoading_loadingComponent"),r.requestOmission(t,a,i,s,function(t){e("#"+l.containerId).html(t.html),e("#lastPeriod").html(t.lastPeriod),e("#autoRefreshWindow").length>0&&e("#autoRefreshWindow").fadeOut(0,function(){e("#autoRefreshWindow").remove()}),n.emit("requestOmissionComplate_omissionContainer"),n.emit("delLoading_loadingComponent"),void 0!=o&&"function"==typeof o&&o()})},matchingPeriods:function(t){var a=this,n=e.trim(e("#lastPeriod").html()),r=e.trim(e(".current-period").html()),i=1e3*Math.floor(10*Math.random()+1);n!=r&&window.setTimeout(function(){a.refreshOmissionData(a)},t+i)}}});