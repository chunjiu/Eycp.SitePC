define("core/services/testing.service",["jquery"],function(e){return{isDev:"false"!==e("body").attr("isopeneventnamecheck"),_testingEventName:function(e){return this.isDev?!!/_[\w]*/.test(e):(console.error("body标签上没有设置isOpenEventNameCheck属性！用于开启是否事件名规范校验！"),!1)}}}),define("core/services/event.service",["underscore","jquery","backbone","./testing.service"],function(e,t,n,i){return{_on:function(e,t){"string"==typeof e&&"function"==typeof t?i._testingEventName(e)?(this[e]=this[e]||new Array,this[e].push(t)):console.error("您得事件未指定是从那个组件接收得，请按照事件命名规范编写事件名字！例子：事件名_接收组件(需要加上Component)"):console.error("事件参数不正确！")},_emit:function(e){if("string"==typeof e)if(i._testingEventName(e)){var t=arguments.length>1?Array.prototype.slice.call(arguments,1):[];this[e]&&Array.prototype.forEach.call(this[e],function(e){e.apply(this,t)})}else console.error("您得事件未指定是从那个组件接收得，请按照事件命名规范编写事件名字！例子：事件名_接收组件(需要加上Component)")},on:function(e,t){"string"==typeof e&&"function"==typeof t?i._testingEventName(e)?n.on(e,t):console.error("您得事件未指定是从那个组件接收得，请按照事件命名规范编写事件名字！例子：事件名_接收组件(需要加上Component)"):console.error("事件参数不正确！")},emit:function(e,t){"string"==typeof e&&(i._testingEventName(e)?n.trigger(e,t):console.error("您得事件未指定是从那个组件接收得，请按照事件命名规范编写事件名字！例子：事件名_接收组件(需要加上Component)"))}}}),define("core/views/publicComponent/public/swiper.component",["underscore","jquery","String","Date","backbone","../../../services/event.service"],function(e,t,n,i,a,r){return a.View.extend({el:"#banner",id:"#banner",page:"#page",events:{"click #page span":"handleCickPage",mouseenter:"handleMouseEnter",mouseleave:"handleMouseLeave"},initialize:function(e){var n=this;if(n.len=t(n.id).find("li").length,n.time=e,n.len>1){var i=t(n.id).find("li").eq(0).outerWidth();t(n.id).find("li").css({width:i,float:"left"}),t(n.id).find("ul").css({width:i*n.len}),n.addPage(n.len),n.startSwiper(n.time)}},handleMouseEnter:function(){var e=this;e.len>1&&window.clearInterval(e.clearInterval)},handleMouseLeave:function(){var e=this;e.len>1&&e.startSwiper(e.time)},startSwiper:function(){var e=this;e.clearInterval=window.setInterval(function(){e.swiperLeft()},e.time)},handleCickPage:function(e){var n=this,i=t(e.currentTarget);i.parent().find("span").removeClass("active"),i.addClass("active");var a=parseInt(t(n.id).find("li").eq(0).attr("data-index")),r=parseInt(i.attr("data-index"));if(r>a)var o=r-a,s=window.setInterval(function(){0==o?window.clearInterval(s):(o--,n.swiperLeft())},600);else var o=a-r,s=window.setInterval(function(){0==o?window.clearInterval(s):(o--,n.swiperRight())},600)},swiperLeft:function(){var e=this,n=t(e.id).find("li").eq(0).outerWidth();t(e.id).find("li").eq(0).stop(!0,!1).animate({"margin-left":-n},300,function(){var i=t(e.id).find("li").eq(0).removeAttr("style");t(e.id).find("li").eq(0).remove(),t(e.id).find("ul").append(i),t(e.id).find("li").css({width:n,float:"left"});var a=t(e.id).find("li").eq(0).attr("data-index");t(e.page).find("span").removeClass("active"),t(e.page).find("span").eq(a).addClass("active")})},swiperRight:function(){var e=this,n=t(e.id).find("li").eq(0).outerWidth(),i=(t(e.id).find("li").length,t(e.id).find("li:last-child"));t(e.id).find("li:last-child").remove(),t(e.id).find("ul").prepend(i),t(e.id).find("li:first-child").css({marginLeft:-n}),t(e.id).find("li:first-child").stop(!0,!1).animate({"margin-left":0},300,function(){t(e.id).find("li").removeAttr("style"),t(e.id).find("li").css({width:n,float:"left"});var i=t(e.id).find("li").eq(0).attr("data-index");t(e.page).find("span").removeClass("active"),t(e.page).find("span").eq(i).addClass("active")})},addPage:function(e){for(var n=this,i="",a=0;a<e;a++)i+=0==a?'<span class="active" data-index="'+a+'"></span>':'<span class="" data-index="'+a+'"></span>';t(n.page).append(i)}})}),define("core/services/request.service",["underscore","jquery","backbone","./event.service"],function(e,t,n,i){var a={_asyncRequestBase:function(e,n,a,r,o,s){t.ajax({type:e,async:!0,timeout:1e4,url:n,dataType:a,data:r,success:function(e){e?i.emit(o,e):(i.emit("createPromptWindow_promptWindowComponent",{title:"网络发生异常！",time:600}),console.error("("+o+"事件)返回得数据发生错误:"))},complete:function(e,t){"timeout"==t&&(i.emit("createPromptWindow_promptWindowComponent",{title:"网络异常,请求超时,请稍后再试...",time:600}),s&&i.emit(s,_resultData))},error:function(e,t){"timeout"==t&&(i.emit("createPromptWindow_promptWindowComponent",{title:"网络异常,请求超时,请稍后再试...",time:600}),s&&i.emit(s,_resultData))}})},_asyncRequestBaseJsonp:function(e,n,a,r,o){t.ajax({type:e,async:!0,timeout:1e4,url:n,dataType:"jsonp",jsonp:"jsoncallback",jsonpCallback:r,data:a,success:function(e){e?i.emit(r,e):(i.emit("createPromptWindow_promptWindowComponent",{title:"网络发生异常！",time:600}),console.error("("+r+"事件)返回得数据发生错误:"))},complete:function(e,t){"timeout"==t&&(i.emit("createPromptWindow_promptWindowComponent",{title:"网络异常,请求超时,请稍后再试...",time:600}),o&&i.emit(o,_resultData))},error:function(e,t){"timeout"==t&&(i.emit("createPromptWindow_promptWindowComponent",{title:"网络异常,请求超时,请稍后再试...",time:600}),o&&i.emit(o,_resultData))}})},requestPostJsonp:function(e,t,n,i){return a._asyncRequestBaseJsonp("POST",e,t,n,i)},requestGetJsonp:function(e,t,n,i){return a._asyncRequestBaseJsonp("GET",e,t,n,i)},requestPost:function(e,t,n){return a._asyncRequestBase("POST",e,"json",t,n,_failedEvent)},requestPostSearch:function(e,t,n,i,r){return a._asyncRequestBase("POST",e,t,n,i,r)},requestGet:function(e,t,n,i){return a._asyncRequestBase("GET",e,"json",t,n,i)},requestGetHtml:function(e,t,n,i){return a._asyncRequestBase("GET",e,"text",t,n,i)}};return a}),define("core/actions/plan/plan.action",["underscore","jquery","backbone","../../services/request.service","../../services/event.service"],function(e,t,n,i,a){var r={};return r._planIndexCallback,r._planAwardHTMLCallback,r._planAwardResultCallback,r._planAwardResultHTMLCallback,r._requestPlanCallback,r.initialize=function(){var e=this;a.on("asyncSuccess_planIndex",function(t){e._planIndexCallback(t)}),a.on("asyncSuccess_planAwardHTML",function(t){e._planAwardHTMLCallback(t)}),a.on("asyncSuccess_planAwardResult",function(t){e._planAwardResultCallback(t)}),a.on("asyncSuccess_planAwardResultHTML",function(t){e._planAwardResultHTMLCallback(t)}),a.on("asyncSuccess_requestPlan",function(t){e._requestPlanCallback(t)})},r.requestPlan=function(e){if("function"!=typeof e)console.error("请求数据的参数不正确，_callBack不是函数类型");else{var t={t:Math.random()};r._requestPlanCallback=e,i.requestGet("/plan/getplan",t,"asyncSuccess_requestPlan")}},r.getPageIndex=function(e){if("function"!=typeof e)console.error("请求数据的参数不正确，_callBack不是函数类型");else{var t={t:Math.random()};r._planIndexCallback=e,i.requestGet("/plan/updateList",t,"asyncSuccess_planIndex")}},r.getAwardResult=function(e,t){if("function"!=typeof t)console.error("getAwardResult：请求数据的参数不正确，_callBack不是函数类型");else{var n={t:Math.random()};r._planAwardResultCallback=t,i.requestGet("/lottery/"+e+"/getawarddata",n,"asyncSuccess_planAwardResult")}},r.getAwardHTML=function(e,t){if("function"!=typeof t)console.error("getAwardHTML：请求数据的参数不正确，_callBack不是函数类型");else{var n={t:Math.random(),lotteryCode:e.lotteryCode,type:e.type,groupId:e.groupId,date:e.date};r._planAwardHTMLCallback=t,i.requestGet("/plan/updatePlanResult",n,"asyncSuccess_planAwardHTML")}},r.getAwardTimerHTML=function(e,t){if("function"!=typeof t)console.error("getAwardTimerHTML：请求数据的参数不正确，_callBack不是函数类型");else{var n={t:Math.random(),lotteryCode:e.lotteryCode,groupId:e.groupId};r._planAwardResultHTMLCallback=t,i.requestGet("/plan/updateAwardReult",n,"asyncSuccess_planAwardResultHTML")}},r.loopResult=function(e,t){var n=this,i=setInterval(function(){n.getAwardResult(e,function(e){e.period==t&&(window.clearInterval(i),a.emit("awardHTML_PlanLoopAction",e))})},5e3)},r}),define("core/actions/point/point.action",["underscore","jquery","backbone","../../services/request.service","../../services/event.service"],function(e,t,n,i,a){var r={};return r._requestPointCallback,r.initialize=function(){var e=this;a.on("asyncSuccess_requestPoint",function(t){e._requestPointCallback(t)})},r.requestPoint=function(e){if("function"!=typeof e)console.error("请求数据的参数不正确，_callBack不是函数类型");else{var t={t:Math.random()};r._requestPointCallback=e,i.requestGet("/point/getpoint",t,"asyncSuccess_requestPoint")}},r}),define("core/views/containers/article/index.container",["underscore","jquery","backbone","../../../services/event.service","../../publicComponent/public/swiper.component","../../../actions/plan/plan.action","../../../actions/point/point.action"],function(e,t,n,i,a,r,o){return{initialize:function(){var e=this;r.initialize(),o.initialize();new a(3e3);t("body").on("click",".ah-skillIntroduce .si-menu  a",function(){t(this).parents(".ah-skillIntroduce").find(".si-menu  a").removeClass("active"),t(this).addClass("active");var e=parseInt(t(this).attr("data-index"));t(this).parents(".ah-skillIntroduce").find("ul").each(function(n,i){n==e?t(i).show():t(i).hide()})}),e.refreshPlanAndPoint(t("#plan").attr("data-systime")),e.countDownPlan(12e4)},refreshPlanAndPoint:function(e){var t,n=this,i=e.split(" ")[0],a=new Date(i+" 07:05:00"),r=new Date(i+" 14:05:00"),o=new Date(e);if(o<=a)t=a-o;else{if(!(o>=a&&o<=r))return;t=r-o}n.countDownUpdate(t)},countDownPlan:function(e){window.setInterval(function(){r.requestPlan(function(e){void 0!=e?(t("#plan").find("tr").not(":first-child").remove(),t("#plan").find("tr:first-child").after(e.resultHtml)):console.error("追号推荐返回来的数据有问题！")})},e)},countDownUpdate:function(e){window.setTimeout(function(){o.requestPoint(function(e){void 0!=e?t("#point ul").html(e.resultHtml):console.error("追号推荐返回来的数据有问题！")})},e)}}});