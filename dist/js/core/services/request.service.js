define(["underscore","jquery","backbone","./event.service"],function(e,t,n,o){var r={_asyncRequestBase:function(e,n,r,i,s,a){t.ajax({type:e,async:!0,timeout:1e4,url:n,dataType:r,data:i,success:function(e){e?o.emit(s,e):(o.emit("createPromptWindow_promptWindowComponent",{title:"网络发生异常！",time:600}),console.error("("+s+"事件)返回得数据发生错误:"))},complete:function(e,t){"timeout"==t&&(o.emit("createPromptWindow_promptWindowComponent",{title:"网络异常,请求超时,请稍后再试...",time:600}),a&&o.emit(a,_resultData))},error:function(e,t){"timeout"==t&&(o.emit("createPromptWindow_promptWindowComponent",{title:"网络异常,请求超时,请稍后再试...",time:600}),a&&o.emit(a,_resultData))}})},_asyncRequestBaseJsonp:function(e,n,r,i,s){t.ajax({type:e,async:!0,timeout:1e4,url:n,dataType:"jsonp",jsonp:"jsoncallback",jsonpCallback:i,data:r,success:function(e){e?o.emit(i,e):(o.emit("createPromptWindow_promptWindowComponent",{title:"网络发生异常！",time:600}),console.error("("+i+"事件)返回得数据发生错误:"))},complete:function(e,t){"timeout"==t&&(o.emit("createPromptWindow_promptWindowComponent",{title:"网络异常,请求超时,请稍后再试...",time:600}),s&&o.emit(s,_resultData))},error:function(e,t){"timeout"==t&&(o.emit("createPromptWindow_promptWindowComponent",{title:"网络异常,请求超时,请稍后再试...",time:600}),s&&o.emit(s,_resultData))}})},requestPostJsonp:function(e,t,n,o){return r._asyncRequestBaseJsonp("POST",e,t,n,o)},requestGetJsonp:function(e,t,n,o){return r._asyncRequestBaseJsonp("GET",e,t,n,o)},requestPost:function(e,t,n){return r._asyncRequestBase("POST",e,"json",t,n,_failedEvent)},requestPostSearch:function(e,t,n,o,i){return r._asyncRequestBase("POST",e,t,n,o,i)},requestGet:function(e,t,n,o){return r._asyncRequestBase("GET",e,"json",t,n,o)},requestGetHtml:function(e,t,n,o){return r._asyncRequestBase("GET",e,"text",t,n,o)}};return r});